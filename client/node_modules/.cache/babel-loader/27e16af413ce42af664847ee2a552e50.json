{"ast":null,"code":"import _objectSpread from\"C:/Users/mrcar/Homework/Redux-Store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import{ApolloClient,InMemoryCache,ApolloProvider,createHttpLink}from'@apollo/client';import{setContext}from'@apollo/client/link/context';import Home from'./pages/Home';import Detail from'./pages/Detail';import NoMatch from'./pages/NoMatch';import Login from'./pages/Login';import Signup from'./pages/Signup';import Nav from'./components/Nav';import StoreProvider from'./utils/GlobalState';import StoreContext from'./utils/SuperState';import Success from'./pages/Success';import OrderHistory from'./pages/OrderHistory';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var httpLink=createHttpLink({uri:'/graphql'});var authLink=setContext(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('id_token');return{headers:_objectSpread(_objectSpread({},headers),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient({link:authLink.concat(httpLink),cache:new InMemoryCache()});function App(){return/*#__PURE__*/_jsx(ApolloProvider,{client:client,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(StoreProvider,{children:/*#__PURE__*/_jsxs(StoreContext,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",component:Signup}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/success\",component:Success}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/orderHistory\",component:OrderHistory}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/products/:id\",component:Detail}),/*#__PURE__*/_jsx(Route,{component:NoMatch})]})]})})})})});}export default App;","map":{"version":3,"sources":["C:/Users/mrcar/Homework/Redux-Store/client/src/App.js"],"names":["React","useEffect","BrowserRouter","Router","Route","Switch","ApolloClient","InMemoryCache","ApolloProvider","createHttpLink","setContext","Home","Detail","NoMatch","Login","Signup","Nav","StoreProvider","StoreContext","Success","OrderHistory","httpLink","uri","authLink","_","headers","token","localStorage","getItem","authorization","client","link","concat","cache","App"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,OACEC,YADF,CAEEC,aAFF,CAGEC,cAHF,CAIEC,cAJF,KAKO,gBALP,CAMA,OAASC,UAAT,KAA2B,6BAA3B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGZ,cAAc,CAAC,CAC9Ba,GAAG,CAAE,UADyB,CAAD,CAA/B,CAIA,GAAMC,CAAAA,QAAQ,CAAGb,UAAU,CAAC,SAACc,CAAD,MAAoB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC9C,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAd,CACA,MAAO,CACLH,OAAO,gCACFA,OADE,MAELI,aAAa,CAAEH,KAAK,kBAAaA,KAAb,EAAuB,EAFtC,EADF,CAAP,CAMD,CAR0B,CAA3B,CAUA,GAAMI,CAAAA,MAAM,CAAG,GAAIxB,CAAAA,YAAJ,CAAiB,CAC9ByB,IAAI,CAAER,QAAQ,CAACS,MAAT,CAAgBX,QAAhB,CADwB,CAE9BY,KAAK,CAAE,GAAI1B,CAAAA,aAAJ,EAFuB,CAAjB,CAAf,CAKA,QAAS2B,CAAAA,GAAT,EAAe,CACb,mBACE,KAAC,cAAD,EAAgB,MAAM,CAAEJ,MAAxB,uBACE,KAAC,MAAD,wBACE,kCACE,KAAC,aAAD,wBACE,MAAC,YAAD,yBACA,KAAC,GAAD,IADA,cAEA,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAEnB,IAAjC,EADF,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEG,KAAtC,EAFF,cAGE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAEC,MAAvC,EAHF,cAIE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,CAA6B,SAAS,CAAEI,OAAxC,EAJF,cAKE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,eAAlB,CAAkC,SAAS,CAAEC,YAA7C,EALF,cAME,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,eAAlB,CAAkC,SAAS,CAAER,MAA7C,EANF,cAOE,KAAC,KAAD,EAAO,SAAS,CAAEC,OAAlB,EAPF,GAFA,GADF,EADF,EADF,EADF,EADF,CAsBD,CAED,cAAeqB,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\n\r\nimport Home from './pages/Home';\r\nimport Detail from './pages/Detail';\r\nimport NoMatch from './pages/NoMatch';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Nav from './components/Nav';\r\nimport StoreProvider from './utils/GlobalState';\r\nimport StoreContext from './utils/SuperState';\r\nimport Success from './pages/Success';\r\nimport OrderHistory from './pages/OrderHistory';\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div>\r\n          <StoreProvider>\r\n            <StoreContext>\r\n            <Nav />\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/signup\" component={Signup} />\r\n              <Route exact path=\"/success\" component={Success} />\r\n              <Route exact path=\"/orderHistory\" component={OrderHistory} />\r\n              <Route exact path=\"/products/:id\" component={Detail} />\r\n              <Route component={NoMatch} />\r\n            </Switch>\r\n            </StoreContext>\r\n          </StoreProvider>\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}